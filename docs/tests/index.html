<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:26,&quot;tests&quot;:44,&quot;passes&quot;:44,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2018-08-22T08:44:14.130Z&quot;,&quot;end&quot;:&quot;2018-08-22T08:44:14.158Z&quot;,&quot;duration&quot;:28,&quot;testsRegistered&quot;:44,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false,&quot;passPercentClass&quot;:&quot;success&quot;,&quot;pendingPercentClass&quot;:&quot;danger&quot;},&quot;suites&quot;:{&quot;uuid&quot;:&quot;bbb785d0-390f-4e4f-b912-7579904da8a4&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;5d95dc94-40b8-42d1-acb8-d09f68d57942&quot;,&quot;title&quot;:&quot;acl&quot;,&quot;fullFile&quot;:&quot;/home/erik/Projects/@superhero/js.acl/index.test.js&quot;,&quot;file&quot;:&quot;/index.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;3676adab-6ac4-47cc-ab89-074f1d0a5fff&quot;,&quot;title&quot;:&quot;from(roles)&quot;,&quot;fullFile&quot;:&quot;/home/erik/Projects/@superhero/js.acl/index.test.js&quot;,&quot;file&quot;:&quot;/index.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should be able to create an instance from a configured json&quot;,&quot;fullTitle&quot;:&quot;acl from(roles) should be able to create an instance from a configured json&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;context&quot;:&quot;{\n  \&quot;title\&quot;: \&quot;acl.roles\&quot;,\n  \&quot;value\&quot;: {\n    \&quot;foo\&quot;: {\n      \&quot;users\&quot;: [\n        \&quot;foobar\&quot;,\n        \&quot;bazqux\&quot;\n      ],\n      \&quot;children\&quot;: [],\n      \&quot;domains\&quot;: {\n        \&quot;domain\&quot;: {\n          \&quot;res-1\&quot;: [\n            \&quot;perm-1-1\&quot;\n          ],\n          \&quot;res-2\&quot;: [\n            \&quot;perm-2-2\&quot;\n          ]\n        }\n      }\n    },\n    \&quot;bar\&quot;: {\n      \&quot;users\&quot;: [\n        \&quot;foobaz\&quot;\n      ],\n      \&quot;children\&quot;: [\n        \&quot;foo\&quot;,\n        \&quot;baz\&quot;\n      ],\n      \&quot;domains\&quot;: {}\n    },\n    \&quot;baz\&quot;: {\n      \&quot;users\&quot;: [],\n      \&quot;children\&quot;: [],\n      \&quot;domains\&quot;: {\n        \&quot;domain\&quot;: {\n          \&quot;res-0\&quot;: [],\n          \&quot;res-1\&quot;: [\n            \&quot;perm-1-3\&quot;\n          ]\n        }\n      }\n    }\n  }\n}&quot;,&quot;code&quot;:&quot;const acl = new Acl\nacl.addRoleUser(&#x27;foo&#x27;, &#x27;foobar&#x27;)\nacl.addRoleUser(&#x27;foo&#x27;, &#x27;bazqux&#x27;)\nacl.addRoleUser(&#x27;bar&#x27;, &#x27;foobaz&#x27;)\nacl.addRoleChild(&#x27;bar&#x27;, &#x27;foo&#x27;)\nacl.addRoleChild(&#x27;bar&#x27;, &#x27;baz&#x27;)\nacl.addRoleDomainResource(&#x27;baz&#x27;, &#x27;domain&#x27;, &#x27;res-0&#x27;)\nacl.addRoleDomainResourcePermission(&#x27;foo&#x27;, &#x27;domain&#x27;, &#x27;res-1&#x27;, &#x27;perm-1-1&#x27;)\nacl.addRoleDomainResourcePermission(&#x27;foo&#x27;, &#x27;domain&#x27;, &#x27;res-2&#x27;, &#x27;perm-2-1&#x27;)\nacl.addRoleDomainResourcePermission(&#x27;foo&#x27;, &#x27;domain&#x27;, &#x27;res-2&#x27;, &#x27;perm-2-2&#x27;)\nacl.addRoleDomainResourcePermission(&#x27;baz&#x27;, &#x27;domain&#x27;, &#x27;res-1&#x27;, &#x27;perm-1-1&#x27;)\nacl.addRoleDomainResourcePermission(&#x27;baz&#x27;, &#x27;domain&#x27;, &#x27;res-1&#x27;, &#x27;perm-1-2&#x27;)\nacl.addRoleDomainResourcePermission(&#x27;baz&#x27;, &#x27;domain&#x27;, &#x27;res-1&#x27;, &#x27;perm-1-3&#x27;)\ncontext(this, { title:&#x27;acl.roles&#x27;, value:acl.roles })\nexpect(Acl.from(acl.roles).roles).to.deep.equal(acl.roles)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f92042a0-8692-4710-bfb3-b81f7b5d1bc3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should throw an error if there is an invalid key in the arg&quot;,&quot;fullTitle&quot;:&quot;acl from(roles) should throw an error if there is an invalid key in the arg&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;expect(Acl.from.bind(null, { foo:{ bar:&#x27;baz&#x27; } })).to.throw(Error)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;4570fe8c-712f-4408-a94a-39989b93ad58&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f92042a0-8692-4710-bfb3-b81f7b5d1bc3&quot;,&quot;4570fe8c-712f-4408-a94a-39989b93ad58&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3faa24ca-2b9f-48a5-a4ae-8a1472358c54&quot;,&quot;title&quot;:&quot;hasRole(role)&quot;,&quot;fullFile&quot;:&quot;/home/erik/Projects/@superhero/js.acl/index.test.js&quot;,&quot;file&quot;:&quot;/index.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should not find a role not previously added&quot;,&quot;fullTitle&quot;:&quot;acl hasRole(role) should not find a role not previously added&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl   = new Acl,\nrole  = &#x27;role&#x27;\nexpect(acl.hasRole(role)).to.be.equal(false)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;cc07d043-5b6d-4bd4-aacf-33b795039b76&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should be able to find an existing role&quot;,&quot;fullTitle&quot;:&quot;acl hasRole(role) should be able to find an existing role&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl   = new Acl,\nrole  = &#x27;role&#x27;\nexpect(acl.hasRole(role)).to.be.equal(false)\nacl.addRole(role)\nexpect(acl.hasRole(role)).to.be.equal(true)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ecf3f9e6-ce95-477a-a851-a872bfa100dd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cc07d043-5b6d-4bd4-aacf-33b795039b76&quot;,&quot;ecf3f9e6-ce95-477a-a851-a872bfa100dd&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;550369af-668d-4728-839a-676ca3a496ee&quot;,&quot;title&quot;:&quot;addRole(role)&quot;,&quot;fullFile&quot;:&quot;/home/erik/Projects/@superhero/js.acl/index.test.js&quot;,&quot;file&quot;:&quot;/index.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should be able to add a role&quot;,&quot;fullTitle&quot;:&quot;acl addRole(role) should be able to add a role&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl   = new Acl,\nrole  = &#x27;role&#x27;\nexpect(acl.hasRole(role)).to.be.equal(false)\nacl.addRole(role)\nexpect(acl.hasRole(role)).to.be.equal(true)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;48ffcccc-c446-4e8d-afcf-474aef2057d1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;adding the same role multiple times wont reset it&quot;,&quot;fullTitle&quot;:&quot;acl addRole(role) adding the same role multiple times wont reset it&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl   = new Acl,\nrole  = &#x27;foo&#x27;,\nuser  = &#x27;bar&#x27;\nacl.addRole(role)\nacl.addRoleUser(role, user)\nacl.addRole(role)\nexpect(acl.hasRoleUser(role, user)).to.be.equal(true)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;168f542e-f28c-4387-b7f8-eea0497338a5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;48ffcccc-c446-4e8d-afcf-474aef2057d1&quot;,&quot;168f542e-f28c-4387-b7f8-eea0497338a5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;7cf588f6-e098-40c1-bbc9-b26a009638c9&quot;,&quot;title&quot;:&quot;removeRole(role)&quot;,&quot;fullFile&quot;:&quot;/home/erik/Projects/@superhero/js.acl/index.test.js&quot;,&quot;file&quot;:&quot;/index.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;removing a non existing role wont throw&quot;,&quot;fullTitle&quot;:&quot;acl removeRole(role) removing a non existing role wont throw&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl   = new Acl,\nrole  = &#x27;foo&#x27;\nexpect(acl.removeRole.bind(acl, role)).to.not.throw()&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;4c01bd0f-0108-436f-9052-1e7411aec4e2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;removing an existing role to be removed&quot;,&quot;fullTitle&quot;:&quot;acl removeRole(role) removing an existing role to be removed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl   = new Acl,\nrole  = &#x27;foo&#x27;\nacl.addRole(role)\nexpect(acl.hasRole(role)).to.be.equal(true)\nacl.removeRole(role)\nexpect(acl.hasRole(role)).to.be.equal(false)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;2b7f2ee6-e2db-4245-85f8-b4f6e1976013&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4c01bd0f-0108-436f-9052-1e7411aec4e2&quot;,&quot;2b7f2ee6-e2db-4245-85f8-b4f6e1976013&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;601fb5e8-b293-40b6-9d42-511f83e5e2a8&quot;,&quot;title&quot;:&quot;hasRoleChild(role, child)&quot;,&quot;fullFile&quot;:&quot;/home/erik/Projects/@superhero/js.acl/index.test.js&quot;,&quot;file&quot;:&quot;/index.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return false if child is not child of role&quot;,&quot;fullTitle&quot;:&quot;acl hasRoleChild(role, child) should return false if child is not child of role&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl   = new Acl,\nrole  = &#x27;foo&#x27;,\nchild = &#x27;bar&#x27;\nexpect(acl.hasRoleChild(role, child)).to.be.equal(false)\nacl.addRole(role)\nexpect(acl.hasRoleChild(role, child)).to.be.equal(false)\nacl.addRole(child)\nexpect(acl.hasRoleChild(role, child)).to.be.equal(false)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;38f42504-db4c-4d97-9815-7f3a6551d23a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should be able to find a child of a role&quot;,&quot;fullTitle&quot;:&quot;acl hasRoleChild(role, child) should be able to find a child of a role&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl   = new Acl,\nrole  = &#x27;foo&#x27;,\nchild = &#x27;bar&#x27;\nacl.addRoleChild(role, child)\nexpect(acl.hasRoleChild(role, child)).to.be.equal(true)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a7cc3ce0-773b-4ea4-b309-759450bd2a23&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;38f42504-db4c-4d97-9815-7f3a6551d23a&quot;,&quot;a7cc3ce0-773b-4ea4-b309-759450bd2a23&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;52e339a3-f808-40a1-bcfa-2f6f5e137cce&quot;,&quot;title&quot;:&quot;hasRoleChildRecursively(role, child)&quot;,&quot;fullFile&quot;:&quot;/home/erik/Projects/@superhero/js.acl/index.test.js&quot;,&quot;file&quot;:&quot;/index.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return false if child does not derive from role&quot;,&quot;fullTitle&quot;:&quot;acl hasRoleChildRecursively(role, child) should return false if child does not derive from role&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl           = new Acl,\nrole          = &#x27;foo&#x27;,\nchild         = &#x27;bar&#x27;,\nchildOfChild  = &#x27;baz&#x27;\nexpect(acl.hasRoleChildRecursively(role, childOfChild)).to.be.equal(false)\nacl.addRole(role)\nexpect(acl.hasRoleChildRecursively(role, childOfChild)).to.be.equal(false)\nacl.addRole(child)\nexpect(acl.hasRoleChildRecursively(role, childOfChild)).to.be.equal(false)\nacl.addRole(childOfChild)\nexpect(acl.hasRoleChildRecursively(role, childOfChild)).to.be.equal(false)\nacl.addRoleChild(role, child)\nexpect(acl.hasRoleChildRecursively(role, childOfChild)).to.be.equal(false)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;cabaf2a7-4c53-4c63-b950-c92fb2da6ebd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return true if child derives from role&quot;,&quot;fullTitle&quot;:&quot;acl hasRoleChildRecursively(role, child) should return true if child derives from role&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl           = new Acl,\nrole          = &#x27;foo&#x27;,\nchild         = &#x27;bar&#x27;,\nchildOfChild  = &#x27;baz&#x27;\nacl.addRoleChild(role, child)\nacl.addRoleChild(child, childOfChild)\nexpect(acl.hasRoleChildRecursively(role, childOfChild)).to.be.equal(true)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;75103d1e-1017-4ca6-a022-35eb390792d5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cabaf2a7-4c53-4c63-b950-c92fb2da6ebd&quot;,&quot;75103d1e-1017-4ca6-a022-35eb390792d5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f48445c4-6a48-40b0-8211-61b6df03689a&quot;,&quot;title&quot;:&quot;addRoleChild(role, child)&quot;,&quot;fullFile&quot;:&quot;/home/erik/Projects/@superhero/js.acl/index.test.js&quot;,&quot;file&quot;:&quot;/index.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should be able to add a child to a role&quot;,&quot;fullTitle&quot;:&quot;acl addRoleChild(role, child) should be able to add a child to a role&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl   = new Acl,\nrole  = &#x27;foo&#x27;,\nchild = &#x27;bar&#x27;\nacl.addRoleChild(role, child)\nexpect(acl.hasRole(role)).to.be.equal(true)\nexpect(acl.hasRole(child)).to.be.equal(true)\nexpect(acl.hasRoleChild(role, child)).to.be.equal(true)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;9141c3b6-6888-48f3-864b-81d98d46b6b7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9141c3b6-6888-48f3-864b-81d98d46b6b7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;69ac8cfc-8443-42dd-9186-a161f7ab2384&quot;,&quot;title&quot;:&quot;removeRoleChild(role, child)&quot;,&quot;fullFile&quot;:&quot;/home/erik/Projects/@superhero/js.acl/index.test.js&quot;,&quot;file&quot;:&quot;/index.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should be able to remove a child from a role&quot;,&quot;fullTitle&quot;:&quot;acl removeRoleChild(role, child) should be able to remove a child from a role&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl   = new Acl,\nrole  = &#x27;foo&#x27;,\nchild = &#x27;bar&#x27;\nacl.addRoleChild(role, child)\nexpect(acl.hasRoleChild(role, child)).to.be.equal(true)\nacl.removeRoleChild(role, child)\nexpect(acl.hasRoleChild(role, child)).to.be.equal(false)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a1322162-4fe5-472d-a54e-905dc718211a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a1322162-4fe5-472d-a54e-905dc718211a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;516a6321-aa9e-40b3-a85b-d8ac56feef5b&quot;,&quot;title&quot;:&quot;hasRoleUser(role, user)&quot;,&quot;fullFile&quot;:&quot;/home/erik/Projects/@superhero/js.acl/index.test.js&quot;,&quot;file&quot;:&quot;/index.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return true only if role has user&quot;,&quot;fullTitle&quot;:&quot;acl hasRoleUser(role, user) should return true only if role has user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl  = new Acl,\nrole = &#x27;foo&#x27;,\nuser = &#x27;bar&#x27;\nexpect(acl.hasRoleUser(role, user)).to.be.equal(false)\nacl.addRole(role)\nexpect(acl.hasRoleUser(role, user)).to.be.equal(false)\nacl.addRoleUser(role, user)\nexpect(acl.hasRoleUser(role, user)).to.be.equal(true)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e7deae48-0f9b-44ec-affa-0ced6c3b4168&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e7deae48-0f9b-44ec-affa-0ced6c3b4168&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;c87e5555-eca7-44e3-a43f-539413976e6e&quot;,&quot;title&quot;:&quot;addRoleUser(role user)&quot;,&quot;fullFile&quot;:&quot;/home/erik/Projects/@superhero/js.acl/index.test.js&quot;,&quot;file&quot;:&quot;/index.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;adding a user to a role also creates the role&quot;,&quot;fullTitle&quot;:&quot;acl addRoleUser(role user) adding a user to a role also creates the role&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl  = new Acl,\nrole = &#x27;foo&#x27;,\nuser = &#x27;bar&#x27;\nexpect(acl.hasRole(role)).to.be.equal(false)\nacl.addRoleUser(role, user)\nexpect(acl.hasRole(role)).to.be.equal(true)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f33c2c59-1e44-42ef-be11-51ed7eb966f2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should be able to add a user to a role&quot;,&quot;fullTitle&quot;:&quot;acl addRoleUser(role user) should be able to add a user to a role&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl  = new Acl,\nrole = &#x27;foo&#x27;,\nuser = &#x27;bar&#x27;\nexpect(acl.hasRoleUser(role, user)).to.be.equal(false)\nacl.addRoleUser(role, user)\nexpect(acl.hasRoleUser(role, user)).to.be.equal(true)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;25c71864-1e6d-4ed5-92ef-7dfbb8e53263&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f33c2c59-1e44-42ef-be11-51ed7eb966f2&quot;,&quot;25c71864-1e6d-4ed5-92ef-7dfbb8e53263&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;72efdcbe-e5c8-4f53-a3ce-5e5342b4278d&quot;,&quot;title&quot;:&quot;removeRoleUser(role, user)&quot;,&quot;fullFile&quot;:&quot;/home/erik/Projects/@superhero/js.acl/index.test.js&quot;,&quot;file&quot;:&quot;/index.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should be able to remove a user from a role&quot;,&quot;fullTitle&quot;:&quot;acl removeRoleUser(role, user) should be able to remove a user from a role&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl  = new Acl,\nrole = &#x27;foo&#x27;,\nuser = &#x27;bar&#x27;\nexpect(acl.hasRoleUser(role, user)).to.be.equal(false)\nacl.addRoleUser(role, user)\nexpect(acl.hasRoleUser(role, user)).to.be.equal(true)\nacl.removeRoleUser(role, user)\nexpect(acl.hasRoleUser(role, user)).to.be.equal(false)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;6c829188-d297-4510-b8be-7cbedd54776e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6c829188-d297-4510-b8be-7cbedd54776e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;fd2a3129-19ce-4609-8416-5d4bb29431c7&quot;,&quot;title&quot;:&quot;removeUser(user)&quot;,&quot;fullFile&quot;:&quot;/home/erik/Projects/@superhero/js.acl/index.test.js&quot;,&quot;file&quot;:&quot;/index.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should be able to remove a user from all roles&quot;,&quot;fullTitle&quot;:&quot;acl removeUser(user) should be able to remove a user from all roles&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl   = new Acl,\nrole1 = &#x27;foo&#x27;,\nrole2 = &#x27;bar&#x27;,\nrole3 = &#x27;baz&#x27;,\nuser  = &#x27;qux&#x27;\nacl.addRoleUser(role1, user)\nacl.addRoleUser(role2, user)\nexpect(acl.hasRoleUser(role1, user)).to.be.equal(true)\nexpect(acl.hasRoleUser(role2, user)).to.be.equal(true)\nexpect(acl.hasRoleUser(role3, user)).to.be.equal(false)\nacl.removeUser(user)\nexpect(acl.hasRoleUser(role1, user)).to.be.equal(false)\nexpect(acl.hasRoleUser(role2, user)).to.be.equal(false)\nexpect(acl.hasRoleUser(role3, user)).to.be.equal(false)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b94b40e3-772e-4153-aeea-55a4674cf4aa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b94b40e3-772e-4153-aeea-55a4674cf4aa&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d8277ddf-ac6b-435b-9ef3-92b0d4943fad&quot;,&quot;title&quot;:&quot;hasRoleDomainResource(role, domain, resource)&quot;,&quot;fullFile&quot;:&quot;/home/erik/Projects/@superhero/js.acl/index.test.js&quot;,&quot;file&quot;:&quot;/index.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return true only if the role has the resource&quot;,&quot;fullTitle&quot;:&quot;acl hasRoleDomainResource(role, domain, resource) should return true only if the role has the resource&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl       = new Acl,\nrole      = &#x27;foo&#x27;,\nresource  = &#x27;bar&#x27;\nexpect(acl.hasRoleDomainResource(role, &#x27;domain&#x27;, resource)).to.be.equal(false)\nacl.addRole(role)\nexpect(acl.hasRoleDomainResource(role, &#x27;domain&#x27;, resource)).to.be.equal(false)\nacl.addRoleDomainResource(role, &#x27;domain&#x27;, resource)\nexpect(acl.hasRoleDomainResource(role, &#x27;domain&#x27;, resource)).to.be.equal(true)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;386ad25a-61b2-4603-811a-b5189a48580a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;386ad25a-61b2-4603-811a-b5189a48580a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f6730ff5-b8ed-4afa-9e8b-6c307df46a24&quot;,&quot;title&quot;:&quot;addRoleDomainResource(role, domain, resource)&quot;,&quot;fullFile&quot;:&quot;/home/erik/Projects/@superhero/js.acl/index.test.js&quot;,&quot;file&quot;:&quot;/index.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should be able to add a resource to a role&quot;,&quot;fullTitle&quot;:&quot;acl addRoleDomainResource(role, domain, resource) should be able to add a resource to a role&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl       = new Acl,\nrole      = &#x27;foo&#x27;,\nresource  = &#x27;bar&#x27;\nexpect(acl.hasRoleDomainResource(role, &#x27;domain&#x27;, resource)).to.be.equal(false)\nacl.addRoleDomainResource(role, &#x27;domain&#x27;, resource)\nexpect(acl.hasRoleDomainResource(role, &#x27;domain&#x27;, resource)).to.be.equal(true)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;7ba7cfc8-eca5-4c2a-83fd-4d9a96cd572a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7ba7cfc8-eca5-4c2a-83fd-4d9a96cd572a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;82e42274-6012-4c9b-953c-c76e77fd7c1d&quot;,&quot;title&quot;:&quot;removeRoleDomainResource(role, domain, resource)&quot;,&quot;fullFile&quot;:&quot;/home/erik/Projects/@superhero/js.acl/index.test.js&quot;,&quot;file&quot;:&quot;/index.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should be able to remove a resource from a role&quot;,&quot;fullTitle&quot;:&quot;acl removeRoleDomainResource(role, domain, resource) should be able to remove a resource from a role&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl       = new Acl,\nrole      = &#x27;foo&#x27;,\ndomain    = &#x27;domain&#x27;,\nresource  = &#x27;bar&#x27;\nexpect(acl.hasRoleDomainResource(role, domain, resource)).to.be.equal(false)\nacl.addRoleDomainResource(role, domain, resource)\nexpect(acl.hasRoleDomainResource(role, domain, resource)).to.be.equal(true)\nacl.removeRoleDomainResource(role, domain, resource)\nexpect(acl.hasRoleDomainResource(role, domain, resource)).to.be.equal(false)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;49d71283-e12b-4af3-97c0-40b768aa19ca&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;removing a resource from a role should not remove the role&quot;,&quot;fullTitle&quot;:&quot;acl removeRoleDomainResource(role, domain, resource) removing a resource from a role should not remove the role&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl       = new Acl,\nrole      = &#x27;foo&#x27;,\nresource  = &#x27;bar&#x27;\nacl.addRoleDomainResource(role, &#x27;domain&#x27;, resource)\nacl.removeRoleDomainResource(role, &#x27;domain&#x27;, resource)\nexpect(acl.hasRole(role)).to.be.equal(true)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;fd0330ec-3b3e-4bd7-b137-7b6454d982e5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;49d71283-e12b-4af3-97c0-40b768aa19ca&quot;,&quot;fd0330ec-3b3e-4bd7-b137-7b6454d982e5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a1229755-b9bb-43fa-a9cf-26edd5d37359&quot;,&quot;title&quot;:&quot;removeDomainResource(domain, resource)&quot;,&quot;fullFile&quot;:&quot;/home/erik/Projects/@superhero/js.acl/index.test.js&quot;,&quot;file&quot;:&quot;/index.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should be able to remove a resource from all roles&quot;,&quot;fullTitle&quot;:&quot;acl removeDomainResource(domain, resource) should be able to remove a resource from all roles&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl       = new Acl,\nrole1     = &#x27;foo&#x27;,\nrole2     = &#x27;bar&#x27;,\nrole3     = &#x27;baz&#x27;,\nresource  = &#x27;qux&#x27;\nacl.addRole(role1)\nacl.addRoleDomainResource(role2, &#x27;domain&#x27;, resource)\nacl.addRoleDomainResource(role3, &#x27;domain&#x27;, resource)\nexpect(acl.hasRoleDomainResource(role1, &#x27;domain&#x27;, resource)).to.be.equal(false)\nexpect(acl.hasRoleDomainResource(role2, &#x27;domain&#x27;, resource)).to.be.equal(true)\nexpect(acl.hasRoleDomainResource(role3, &#x27;domain&#x27;, resource)).to.be.equal(true)\nacl.removeDomainResource(&#x27;domain&#x27;, resource)\nexpect(acl.hasRoleDomainResource(role1, &#x27;domain&#x27;, resource)).to.be.equal(false)\nexpect(acl.hasRoleDomainResource(role2, &#x27;domain&#x27;, resource)).to.be.equal(false)\nexpect(acl.hasRoleDomainResource(role3, &#x27;domain&#x27;, resource)).to.be.equal(false)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c61a671d-a4bc-4d29-9649-d4685d1477a6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c61a671d-a4bc-4d29-9649-d4685d1477a6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d494b5d7-b96c-4ae0-8c48-62a3aa3e9639&quot;,&quot;title&quot;:&quot;hasRoleDomainResourcePermission(role, domain, resource, permission)&quot;,&quot;fullFile&quot;:&quot;/home/erik/Projects/@superhero/js.acl/index.test.js&quot;,&quot;file&quot;:&quot;/index.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return true only if the role has the permission&quot;,&quot;fullTitle&quot;:&quot;acl hasRoleDomainResourcePermission(role, domain, resource, permission) should return true only if the role has the permission&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl   = new Acl,\nrole  = &#x27;foo&#x27;,\nres   = &#x27;bar&#x27;,\nper   = &#x27;baz&#x27;\nexpect(acl.hasRoleDomainResourcePermission(role, &#x27;domain&#x27;, res, per)).to.be.equal(false)\nacl.addRole(role)\nexpect(acl.hasRoleDomainResourcePermission(role, &#x27;domain&#x27;, res, per)).to.be.equal(false)\nacl.addRoleDomainResource(role, &#x27;domain&#x27;, res)\nexpect(acl.hasRoleDomainResourcePermission(role, &#x27;domain&#x27;, res, per)).to.be.equal(false)\nacl.addRoleDomainResourcePermission(role, &#x27;domain&#x27;, res, per)\nexpect(acl.hasRoleDomainResourcePermission(role, &#x27;domain&#x27;, res, per)).to.be.equal(true)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;6715ed3a-8f02-42d7-9b4a-be658a8c07ef&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6715ed3a-8f02-42d7-9b4a-be658a8c07ef&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;14ecb060-f32c-46b5-a9f9-47c7f4220b6c&quot;,&quot;title&quot;:&quot;addRoleDomainResourcePermission(role, domain, resource, permission)&quot;,&quot;fullFile&quot;:&quot;/home/erik/Projects/@superhero/js.acl/index.test.js&quot;,&quot;file&quot;:&quot;/index.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should be able to add a permission to a role&quot;,&quot;fullTitle&quot;:&quot;acl addRoleDomainResourcePermission(role, domain, resource, permission) should be able to add a permission to a role&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl   = new Acl,\nrole  = &#x27;foo&#x27;,\nres   = &#x27;bar&#x27;,\nper   = &#x27;baz&#x27;\nexpect(acl.hasRoleDomainResourcePermission(role, &#x27;domain&#x27;, res, per)).to.be.equal(false)\nacl.addRoleDomainResourcePermission(role, &#x27;domain&#x27;, res, per)\nexpect(acl.hasRoleDomainResourcePermission(role, &#x27;domain&#x27;, res, per)).to.be.equal(true)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a3eb93b6-e6a0-476b-b096-28a383e513a4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should add a resource to the role&quot;,&quot;fullTitle&quot;:&quot;acl addRoleDomainResourcePermission(role, domain, resource, permission) should add a resource to the role&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl   = new Acl,\nrole  = &#x27;foo&#x27;,\nres   = &#x27;bar&#x27;,\nper   = &#x27;baz&#x27;\nexpect(acl.hasRoleDomainResource(role, &#x27;domain&#x27;, res)).to.be.equal(false)\nacl.addRoleDomainResourcePermission(role, &#x27;domain&#x27;, res, per)\nexpect(acl.hasRoleDomainResource(role, &#x27;domain&#x27;, res)).to.be.equal(true)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;95965e12-1f48-45bc-8ced-a238b34c5a2a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should add a role&quot;,&quot;fullTitle&quot;:&quot;acl addRoleDomainResourcePermission(role, domain, resource, permission) should add a role&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl   = new Acl,\nrole  = &#x27;foo&#x27;,\nres   = &#x27;bar&#x27;,\nper   = &#x27;baz&#x27;\nexpect(acl.hasRole(role)).to.be.equal(false)\nacl.addRoleDomainResourcePermission(role, &#x27;domain&#x27;, res, per)\nexpect(acl.hasRole(role)).to.be.equal(true)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;5308842b-2b09-4ae4-8d45-89ff2b5766d6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a3eb93b6-e6a0-476b-b096-28a383e513a4&quot;,&quot;95965e12-1f48-45bc-8ced-a238b34c5a2a&quot;,&quot;5308842b-2b09-4ae4-8d45-89ff2b5766d6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;408ecab4-891e-436b-b20e-ea1df4d1a28c&quot;,&quot;title&quot;:&quot;removeRoleDomainResourcePermission(role, domain, resource, permission)&quot;,&quot;fullFile&quot;:&quot;/home/erik/Projects/@superhero/js.acl/index.test.js&quot;,&quot;file&quot;:&quot;/index.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should remove a permission from a role resource&quot;,&quot;fullTitle&quot;:&quot;acl removeRoleDomainResourcePermission(role, domain, resource, permission) should remove a permission from a role resource&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl   = new Acl,\nrole  = &#x27;foo&#x27;,\nres   = &#x27;bar&#x27;,\nper   = &#x27;baz&#x27;\nacl.addRoleDomainResourcePermission(role, &#x27;domain&#x27;, res, per)\nexpect(acl.hasRoleDomainResourcePermission(role, &#x27;domain&#x27;, res, per)).to.be.equal(true)\nacl.removeRoleDomainResourcePermission(role, &#x27;domain&#x27;, res, per)\nexpect(acl.hasRoleDomainResourcePermission(role, &#x27;domain&#x27;, res, per)).to.be.equal(false)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d6067ca4-c99d-49f3-8fa1-6dfe32dc1cee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d6067ca4-c99d-49f3-8fa1-6dfe32dc1cee&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;8026f545-564b-472e-8cc9-f457c2ef753c&quot;,&quot;title&quot;:&quot;removeDomainResourcePermission(domain, resource, permission)&quot;,&quot;fullFile&quot;:&quot;/home/erik/Projects/@superhero/js.acl/index.test.js&quot;,&quot;file&quot;:&quot;/index.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should remove a permission from a resource on all roles&quot;,&quot;fullTitle&quot;:&quot;acl removeDomainResourcePermission(domain, resource, permission) should remove a permission from a resource on all roles&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl   = new Acl,\nrole1 = &#x27;foo1&#x27;,\nrole2 = &#x27;foo2&#x27;,\nrole3 = &#x27;foo3&#x27;,\nres   = &#x27;bar&#x27;,\nper   = &#x27;baz&#x27;\nacl.addRoleDomainResource(role1, &#x27;domain&#x27;, res)\nacl.addRoleDomainResourcePermission(role2, &#x27;domain&#x27;, res, per)\nacl.addRoleDomainResourcePermission(role3, &#x27;domain&#x27;, res, per)\nexpect(acl.hasRoleDomainResourcePermission(role1, &#x27;domain&#x27;, res, per)).to.be.equal(false)\nexpect(acl.hasRoleDomainResourcePermission(role2, &#x27;domain&#x27;, res, per)).to.be.equal(true)\nexpect(acl.hasRoleDomainResourcePermission(role3, &#x27;domain&#x27;, res, per)).to.be.equal(true)\nacl.removeDomainResourcePermission(&#x27;domain&#x27;, res, per)\nexpect(acl.hasRoleDomainResourcePermission(role1, &#x27;domain&#x27;, res, per)).to.be.equal(false)\nexpect(acl.hasRoleDomainResourcePermission(role2, &#x27;domain&#x27;, res, per)).to.be.equal(false)\nexpect(acl.hasRoleDomainResourcePermission(role3, &#x27;domain&#x27;, res, per)).to.be.equal(false)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;6a24feec-ef27-40b3-8620-0b56c7904fc0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not remove the role and resouce&quot;,&quot;fullTitle&quot;:&quot;acl removeDomainResourcePermission(domain, resource, permission) should not remove the role and resouce&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl   = new Acl,\nrole1 = &#x27;foo1&#x27;,\nrole2 = &#x27;foo2&#x27;,\nrole3 = &#x27;foo3&#x27;,\nres   = &#x27;bar&#x27;,\nper   = &#x27;baz&#x27;\nacl.addRoleDomainResource(role1, &#x27;domain&#x27;, res)\nacl.addRoleDomainResourcePermission(role2, &#x27;domain&#x27;, res, per)\nacl.addRoleDomainResourcePermission(role3, &#x27;domain&#x27;, res, per)\nacl.removeDomainResourcePermission(res, &#x27;domain&#x27;, per)\nexpect(acl.hasRoleDomainResource(role1, &#x27;domain&#x27;, res, per)).to.be.equal(true)\nexpect(acl.hasRoleDomainResource(role2, &#x27;domain&#x27;, res, per)).to.be.equal(true)\nexpect(acl.hasRoleDomainResource(role3, &#x27;domain&#x27;, res, per)).to.be.equal(true)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;4c86ba5a-370b-4d26-8238-335018f067f3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6a24feec-ef27-40b3-8620-0b56c7904fc0&quot;,&quot;4c86ba5a-370b-4d26-8238-335018f067f3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;5cac22a9-5f4c-4ff9-9ec7-a7fdaaeba9a1&quot;,&quot;title&quot;:&quot;getUserRoles(user)&quot;,&quot;fullFile&quot;:&quot;/home/erik/Projects/@superhero/js.acl/index.test.js&quot;,&quot;file&quot;:&quot;/index.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a list of all the roles a user have&quot;,&quot;fullTitle&quot;:&quot;acl getUserRoles(user) should return a list of all the roles a user have&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl   = new Acl,\nuser  = &#x27;foobar&#x27;,\nrole1 = &#x27;foo&#x27;,\nrole2 = &#x27;bar&#x27;,\nrole3 = &#x27;baz&#x27;,\nrole4 = &#x27;qux&#x27;\nacl.addRoleUser(role1, user)\nacl.addRoleUser(role2, user)\nacl.addRoleChild(role1, role3)\nacl.addRoleChild(role2, role4)\nexpect(acl.getUserRoles(user)).to.have.members([role1, role2])&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;a550e0af-27da-4139-a5b5-bc4927d872f8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;a550e0af-27da-4139-a5b5-bc4927d872f8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;9876926d-4b43-45f4-944a-96fbf89303ee&quot;,&quot;title&quot;:&quot;getUserRolesRecursive(user)&quot;,&quot;fullFile&quot;:&quot;/home/erik/Projects/@superhero/js.acl/index.test.js&quot;,&quot;file&quot;:&quot;/index.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a list of roles and the derieved roles a user have&quot;,&quot;fullTitle&quot;:&quot;acl getUserRolesRecursive(user) should return a list of roles and the derieved roles a user have&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl       = new Acl,\nuser1     = &#x27;foobar1&#x27;,\nuser2     = &#x27;foobar2&#x27;,\nrole1     = &#x27;foo&#x27;,\nrole2     = &#x27;bar&#x27;,\nrole3     = &#x27;baz&#x27;,\nrole4     = &#x27;qux&#x27;,\nexpected  = [role1, role2, role3]\nacl.addRoleUser(role1, user1)\nacl.addRoleUser(role2, user1)\nacl.addRoleChild(role1, role3)\nacl.addRole(role4)\nexpect(acl.getUserRolesRecursively(user1)).to.have.members(expected)\nacl.addRoleUser(role4, user2)\nexpect(acl.getUserRolesRecursively(user1)).to.have.members(expected)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b153a3cf-9922-4a84-bb53-e5130363b33e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b153a3cf-9922-4a84-bb53-e5130363b33e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ec22b313-3240-491f-8e03-8e1e833e3dd7&quot;,&quot;title&quot;:&quot;getRolesRecursively(role)&quot;,&quot;fullFile&quot;:&quot;/home/erik/Projects/@superhero/js.acl/index.test.js&quot;,&quot;file&quot;:&quot;/index.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a list of roles derieved of the root role&quot;,&quot;fullTitle&quot;:&quot;acl getRolesRecursively(role) should return a list of roles derieved of the root role&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl       = new Acl,\nrole1     = &#x27;foo&#x27;,\nrole2     = &#x27;bar&#x27;,\nrole3     = &#x27;baz&#x27;,\nrole4     = &#x27;qux&#x27;,\nexpected  = [role1, role3]\nacl.addRole(role1)\nacl.addRole(role2)\nacl.addRoleChild(role1, role3)\nexpect(acl.getRolesRecursively(role1)).to.have.members(expected)\nacl.addRole(role4)\nexpect(acl.getRolesRecursively(role1)).to.have.members(expected)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;e666120a-c248-40bb-997e-491e80e75e50&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e666120a-c248-40bb-997e-491e80e75e50&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;bf6cb1f5-788c-461d-9167-b6605c4c573a&quot;,&quot;title&quot;:&quot;isUserAuthorized(user, resource, permission)&quot;,&quot;fullFile&quot;:&quot;/home/erik/Projects/@superhero/js.acl/index.test.js&quot;,&quot;file&quot;:&quot;/index.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should only allow a valid permission&quot;,&quot;fullTitle&quot;:&quot;acl isUserAuthorized(user, resource, permission) should only allow a valid permission&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl         = new Acl,\nuser        = &#x27;foo&#x27;,\nrole        = &#x27;bar&#x27;,\ndomain      = &#x27;domain&#x27;,\nresource    = &#x27;baz&#x27;,\npermission  = &#x27;qux&#x27;\nacl.addRoleUser(role, user)\nacl.addRoleDomainResourcePermission(role, domain, resource, permission)\nconst result = acl.isUserAuthorized(user, domain, resource, permission)\nexpect(result).to.be.equal(true)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;ce544a09-8609-4c39-b6cd-d00d5a7e5b52&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should allow a valid permission through a role hierarchy&quot;,&quot;fullTitle&quot;:&quot;acl isUserAuthorized(user, resource, permission) should allow a valid permission through a role hierarchy&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl         = new Acl,\nuser1       = &#x27;foo1&#x27;,\nuser2       = &#x27;foo2&#x27;,\nrole1       = &#x27;bar1&#x27;,\nrole2       = &#x27;bar2&#x27;,\ndomain      = &#x27;domain&#x27;,\nresource1   = &#x27;baz1&#x27;,\nresource2   = &#x27;baz2&#x27;,\npermission  = &#x27;qux&#x27;\nacl.addRoleUser(role1, user1)\nacl.addRoleUser(role2, user2)\nacl.addRoleDomainResourcePermission(role1, domain, resource1, permission)\nacl.addRoleDomainResourcePermission(role2, domain, resource2, permission)\nconst result1 = acl.isUserAuthorized(user1, domain, resource2, permission)\nexpect(result1).to.be.equal(false)\nacl.addRoleChild(role1, role2)\nconst result2 = acl.isUserAuthorized(user1, domain, resource2, permission)\nexpect(result2).to.be.equal(true)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;17b8e7cc-19e6-4707-bdf8-399cd82f79ce&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not allow an invalid permission&quot;,&quot;fullTitle&quot;:&quot;acl isUserAuthorized(user, resource, permission) should not allow an invalid permission&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl         = new Acl,\nuser1       = &#x27;foo1&#x27;,\nuser2       = &#x27;foo2&#x27;,\nrole1       = &#x27;bar1&#x27;,\nrole2       = &#x27;bar2&#x27;,\ndomain      = &#x27;domain&#x27;,\nresource1   = &#x27;baz1&#x27;,\nresource2   = &#x27;baz2&#x27;,\npermission  = &#x27;qux&#x27;\nacl.addRoleUser(role1, user1)\nacl.addRoleUser(role2, user2)\nacl.addRoleDomainResourcePermission(role1, domain, resource1, permission)\nacl.addRoleDomainResourcePermission(role2, domain, resource2, permission)\nconst result1 = acl.isUserAuthorized(user1, domain, resource1, permission)\nexpect(result1).to.be.equal(true)\nconst result2 = acl.isUserAuthorized(user1, domain, resource2, permission)\nexpect(result2).to.be.equal(false)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;73fd46f0-54ee-4d6b-b724-3f1e1ec3a4b6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ce544a09-8609-4c39-b6cd-d00d5a7e5b52&quot;,&quot;17b8e7cc-19e6-4707-bdf8-399cd82f79ce&quot;,&quot;73fd46f0-54ee-4d6b-b724-3f1e1ec3a4b6&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e30852a5-c53c-4207-bb3e-2bf7f242dcbd&quot;,&quot;title&quot;:&quot;isRoleAuthorized(role, resource, permission)&quot;,&quot;fullFile&quot;:&quot;/home/erik/Projects/@superhero/js.acl/index.test.js&quot;,&quot;file&quot;:&quot;/index.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should only allow a valid permission&quot;,&quot;fullTitle&quot;:&quot;acl isRoleAuthorized(role, resource, permission) should only allow a valid permission&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl         = new Acl,\nrole        = &#x27;bar&#x27;,\ndomain      = &#x27;domain&#x27;,\nresource    = &#x27;baz&#x27;,\npermission  = &#x27;qux&#x27;\nacl.addRole(role)\nacl.addRoleDomainResourcePermission(role, domain, resource, permission)\nconst result = acl.isRoleAuthorized(role, domain, resource, permission)\nexpect(result).to.be.equal(true)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;fd3f34d6-58ec-49cc-9de2-5d8447053817&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should allow a valid permission through a role hierarchy&quot;,&quot;fullTitle&quot;:&quot;acl isRoleAuthorized(role, resource, permission) should allow a valid permission through a role hierarchy&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl         = new Acl,\nrole1       = &#x27;bar1&#x27;,\nrole2       = &#x27;bar2&#x27;,\ndomain      = &#x27;domain&#x27;,\nresource1   = &#x27;baz1&#x27;,\nresource2   = &#x27;baz2&#x27;,\npermission  = &#x27;qux&#x27;\nacl.addRole(role1)\nacl.addRole(role2)\nacl.addRoleDomainResourcePermission(role1, domain, resource1, permission)\nacl.addRoleDomainResourcePermission(role2, domain, resource2, permission)\nconst result1 = acl.isRoleAuthorized(role1, domain, resource2, permission)\nexpect(result1).to.be.equal(false)\nacl.addRoleChild(role1, role2)\nconst result2 = acl.isRoleAuthorized(role1, domain, resource2, permission)\nexpect(result2).to.be.equal(true)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f212be0b-280e-4ca8-aa60-03aa77b3c10f&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not allow an invalid permission&quot;,&quot;fullTitle&quot;:&quot;acl isRoleAuthorized(role, resource, permission) should not allow an invalid permission&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl         = new Acl,\nrole1       = &#x27;bar1&#x27;,\nrole2       = &#x27;bar2&#x27;,\ndomain      = &#x27;domain&#x27;,\nresource1   = &#x27;baz1&#x27;,\nresource2   = &#x27;baz2&#x27;,\npermission  = &#x27;qux&#x27;\nacl.addRole(role1)\nacl.addRole(role2)\nacl.addRoleDomainResourcePermission(role1, domain, resource1, permission)\nacl.addRoleDomainResourcePermission(role2, domain, resource2, permission)\nconst result1 = acl.isRoleAuthorized(role1, domain, resource1, permission)\nexpect(result1).to.be.equal(true)\nconst result2 = acl.isRoleAuthorized(role1, domain, resource2, permission)\nexpect(result2).to.be.equal(false)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;237845d4-08d5-4996-9e11-dc5f5a1dd0d3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;* for resouce should allow access to all resources&quot;,&quot;fullTitle&quot;:&quot;acl isRoleAuthorized(role, resource, permission) * for resouce should allow access to all resources&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl         = new Acl,\nrole1       = &#x27;bar1&#x27;,\ndomain      = &#x27;domain&#x27;,\nresource1   = &#x27;baz1&#x27;,\nresource2   = &#x27;baz2&#x27;,\npermission  = &#x27;qux&#x27;\nacl.addRole(role1)\nacl.addRoleDomainResourcePermission(role1, domain, &#x27;*&#x27;, permission)\nconst result1 = acl.isRoleAuthorized(role1, domain, resource1, permission)\nexpect(result1).to.be.equal(true)\nconst result2 = acl.isRoleAuthorized(role1, domain, resource2, permission)\nexpect(result2).to.be.equal(true)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;03cbdfd6-e94a-41f0-ba0d-042cd92e20e2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;* for permission should allow access to all permissions&quot;,&quot;fullTitle&quot;:&quot;acl isRoleAuthorized(role, resource, permission) * for permission should allow access to all permissions&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl         = new Acl,\nrole1       = &#x27;bar1&#x27;,\ndomain      = &#x27;domain&#x27;,\nresource1   = &#x27;baz1&#x27;,\npermission1 = &#x27;qux1&#x27;,\npermission2 = &#x27;qux2&#x27;\nacl.addRole(role1)\nacl.addRoleDomainResourcePermission(role1, domain, resource1, &#x27;*&#x27;)\nconst result1 = acl.isRoleAuthorized(role1, domain, resource1, permission1)\nexpect(result1).to.be.equal(true)\nconst result2 = acl.isRoleAuthorized(role1, domain, resource1, permission2)\nexpect(result2).to.be.equal(true)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;59cd88ce-47f8-4f7b-b6a3-1550c1b0e377&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;* for permission and resource should allow access to everything&quot;,&quot;fullTitle&quot;:&quot;acl isRoleAuthorized(role, resource, permission) * for permission and resource should allow access to everything&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl         = new Acl,\nrole1       = &#x27;bar1&#x27;,\ndomain      = &#x27;domain&#x27;,\nresource1   = &#x27;baz1&#x27;,\nresource2   = &#x27;baz2&#x27;,\npermission1 = &#x27;qux1&#x27;,\npermission2 = &#x27;qux2&#x27;\nacl.addRole(role1)\nacl.addRoleDomainResourcePermission(role1, domain, &#x27;*&#x27;, &#x27;*&#x27;)\nconst result1 = acl.isRoleAuthorized(role1, domain, resource1, permission1)\nexpect(result1).to.be.equal(true)\nconst result2 = acl.isRoleAuthorized(role1, domain, resource2, permission2)\nexpect(result2).to.be.equal(true)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1296116f-1a2e-4f0f-a2d4-533859b97551&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;undefined permission should allow access on a resource level&quot;,&quot;fullTitle&quot;:&quot;acl isRoleAuthorized(role, resource, permission) undefined permission should allow access on a resource level&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const\nacl         = new Acl,\nrole1       = &#x27;bar1&#x27;,\nrole2       = &#x27;bar2&#x27;,\ndomain      = &#x27;domain&#x27;,\nresource1   = &#x27;baz1&#x27;,\nresource2   = &#x27;baz2&#x27;,\npermission1 = &#x27;qux1&#x27;,\npermission2 = &#x27;qux2&#x27;\nacl.addRole(role1)\nacl.addRole(role2)\nacl.addRoleDomainResourcePermission(role1, domain, resource1, permission1)\nacl.addRoleDomainResourcePermission(role2, domain, resource2, permission2)\nconst result1 = acl.isRoleAuthorized(role1, domain, resource1)\nexpect(result1).to.be.equal(true)\nconst result2 = acl.isRoleAuthorized(role1, domain, resource2)\nexpect(result2).to.be.equal(false)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;5a03a59c-177a-4842-b732-fef6f3ea4761&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fd3f34d6-58ec-49cc-9de2-5d8447053817&quot;,&quot;f212be0b-280e-4ca8-aa60-03aa77b3c10f&quot;,&quot;237845d4-08d5-4996-9e11-dc5f5a1dd0d3&quot;,&quot;03cbdfd6-e94a-41f0-ba0d-042cd92e20e2&quot;,&quot;59cd88ce-47f8-4f7b-b6a3-1550c1b0e377&quot;,&quot;1296116f-1a2e-4f0f-a2d4-533859b97551&quot;,&quot;5a03a59c-177a-4842-b732-fef6f3ea4761&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000},&quot;copyrightYear&quot;:2018}" data-config="{&quot;reportFilename&quot;:&quot;index&quot;,&quot;reportDir&quot;:&quot;docs/tests&quot;,&quot;reportTitle&quot;:&quot;js.acl&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:true,&quot;enableCharts&quot;:true,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;always&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;docs/tests/assets&quot;,&quot;jsonFile&quot;:&quot;/home/erik/Projects/@superhero/js.acl/docs/tests/index.json&quot;,&quot;htmlFile&quot;:&quot;/home/erik/Projects/@superhero/js.acl/docs/tests/index.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>